<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yêu cầu cập nhật đơn vị sản phẩm</title>
    <link rel="stylesheet" href="/css/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/css/create-product.css">
    <style>
        /* Make the whole .form-check area clickable by making labels block-level and full width */
        .form-check { cursor: pointer; }
        .form-check-label { display: block; width: 100%; padding: 0.375rem 0.75rem; cursor: pointer; }
        /* keep input visible and aligned */
        .form-check-input { margin-top: 0.25rem; }
    </style>
</head>

<body>
    <div class="main-content">
        <div class="container">
            <div class="form-card">
                <h1 class="page-title">
                    <i class="bi bi-pencil-square text-primary"></i>
                    Yêu cầu cập nhật đơn vị sản phẩm
                </h1>

                <!-- Error Message -->
                <div th:if="${error}" class="error-message">
                    <i class="bi bi-exclamation-triangle-fill me-2"></i>
                    <span th:text="${error}"></span>
                </div>

                <!-- Success Message -->
                <div th:if="${success}" class="success-message">
                    <i class="bi bi-check-circle-fill me-2"></i>
                    <span th:text="${success}"></span>
                </div>

                <form th:action="@{/seller/edit-product-unit}" method="post" th:object="${updateProductUnitDto}">

                    <input type="hidden" th:field="*{id}" />

                    <!-- Product Unit Information Section -->
                    <div class="form-section">
                        <div class="section-title">
                            <i class="bi bi-info-circle me-2"></i>
                            Thông tin đơn vị
                        </div>

                        <div class="row">
                            <div class="col-md-12 mb-4">
                                <label for="unitId" class="form-label">
                                    Mã đơn vị
                                </label>
                                <input type="text" class="form-control" th:value="*{id}" id="unitId" readonly
                                    disabled />
                            </div>

                            <div class="col-md-12 mb-4">
                                <label for="unitName" class="form-label">
                                    Tên đơn vị<span class="required-mark">*</span>
                                </label>
                                <input type="text" class="form-control" th:field="*{name}" id="unitName"
                                    placeholder="Ví dụ: Kg, Lít, Cái, Hộp..." required maxlength="20" />
                                <small class="form-text text-muted">
                                    Tên đơn vị không được vượt quá 20 ký tự
                                </small>
                            </div>

                            <div class="col-md-12 mb-4">
                                <label class="form-label">
                                    Cho phép thập phân<span class="required-mark">*</span>
                                </label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" th:field="*{isAllowDecimal}"
                                        id="allowDecimalYes" value="true" required />
                                    <label class="form-check-label" for="allowDecimalYes">
                                        <strong>Có</strong> - Cho phép số lượng thập phân (Ví dụ: 1.5 Kg, 2.3 Lít)
                                    </label>
                                </div>
                                <div class="form-check mt-2">
                                    <input class="form-check-input" type="radio" th:field="*{isAllowDecimal}"
                                        id="allowDecimalNo" value="false" required />
                                    <label class="form-check-label" for="allowDecimalNo">
                                        <strong>Không</strong> - Chỉ cho phép số nguyên (Ví dụ: 1 Cái, 5 Hộp)
                                    </label>
                                </div>
                                <small class="form-text text-muted mt-2 d-block">
                                    <i class="bi bi-info-circle"></i>
                                    Lưu ý: Đơn vị đếm được (Cái, Hộp, Chai...) nên chọn "Không".
                                    Đơn vị không đếm được (Kg, Lít, Mét...) nên chọn "Có".
                                </small>
                            </div>
                            <div class="col-md-12 mb-4">
                                <label class="form-label">
                                    Hiện đơn vị<span class="required-mark">*</span>
                                </label>

                                <div class="form-check">
                                    <input class="form-check-input" type="radio" th:field="*{isActive}"
                                        id="allowActiveYes" value="true" required />
                                    <label class="form-check-label" for="allowActiveYes">
                                        <strong>Có</strong> - Hiển thị đơn vị này trong danh sách khi tạo hoặc chỉnh sửa sản phẩm.
                                    </label>
                                </div>
                                <div class="form-check mt-2">
                                    <input class="form-check-input" type="radio" th:field="*{isActive}"
                                        id="allowActiveNo" value="false" required />
                                    <label class="form-check-label" for="allowActiveNo">
                                        <strong>Không</strong> - Ẩn đơn vị này khỏi danh sách khi tạo hoặc chỉnh sửa sản phẩm.
                                    </label>
                                </div>
                                <small class="form-text text-muted mt-2 d-block">
                                    <i class="bi bi-info-circle"></i>
                                    Lưu ý: Chọn "Không" để ẩn đơn vị này khỏi danh sách khi tạo hoặc chỉnh sửa sản phẩm.
                                </small>
                            </div>

                            <!-- Warning for existing products -->
                            <div class="col-md-12 mb-4">
                                <div class="alert alert-warning" role="alert">
                                    <i class="bi bi-exclamation-triangle-fill me-2"></i>
                                    <strong>Lưu ý quan trọng:</strong> Việc thay đổi đơn vị sản phẩm có thể ảnh hưởng
                                    đến
                                    các sản phẩm hiện đang sử dụng đơn vị này. Vui lòng kiểm tra kỹ trước khi gửi yêu
                                    cầu.
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <a th:href="@{/seller/product-unit}" class="btn btn-secondary">
                            <i class="bi bi-x-circle me-2"></i>
                            Hủy bỏ
                        </a>
                        <button type="submit" class="btn btn-submit">
                            <i class="bi bi-check-circle me-2"></i>
                            Gửi yêu cầu cập nhật
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="/js/bootstrap/bootstrap.bundle.min.js"></script>
</body>

</html>