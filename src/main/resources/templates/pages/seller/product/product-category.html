<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Product Category</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" th:href="css/product-category">
</head>
<body>
<div class="layout">
    <div th:replace="~{fragments/seller-sidebar :: seller-sidebar}"></div>

    <div class="main-content">
        <div class="container">
            <div class="header">
                <a th:href="@{/}">← Trang chủ</a>
                <h2>Quản lý danh mục</h2>
            </div>

            <div class="search">
                <form th:action="@{/seller/product-category}" method="get">
                    <span>Nhập từ khóa:</span>
                    <input type="text" name="categoryName" placeholder="Tìm kiếm danh mục..." th:value="${categoryName}">
                    <button type="submit">Tìm kiếm</button>
                    <a th:if="${categoryName != null && !#strings.isEmpty(categoryName)}"
                       th:href="@{/seller/product-category}">Xóa bộ lọc</a>
                    <a th:href="@{/seller/create-product-category}"
                       style="background: #198754; color: white; border-color: #198754;">
                        <i class="bi bi-plus-circle"></i> Yêu cầu tạo danh mục mới
                    </a>
                </form>
            </div>
            <div th:if="${error}" class="error-message" style="color: red; margin-bottom: 16px;">
                <i class="bi bi-exclamation-triangle-fill me-2"></i>
                <span th:text="${error}"></span>
            </div>
            <table>
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Tên danh mục</th>
                    <th>Thao tác</th>
                </tr>
                </thead>
                <tbody>
                <tr th:if="${categories.isEmpty()}" class="empty-row">
                    <td colspan="3">Không tìm thấy danh mục nào</td>
                </tr>
                <tr th:each="category : ${categories}">
                    <td th:text="${category.id}"></td>
                    <td th:text="${category.name}"></td>
                    <td>
                        <a th:href="@{/seller/edit-product-category(id=${category.id})}" 
                           style="background: #ffc107; color: #000; border-color: #ffc107; text-decoration: none; padding: 6px 12px; border-radius: 6px; display: inline-block; margin-right: 5px;">
                            <i class="bi bi-pencil"></i> Sửa
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>

            <div th:if="${!categories.isEmpty()}" class="pagination">
                <a th:if="${!categories.first}" th:href="@{/seller/product-category(page=0,categoryName=${categoryName})}">Đầu</a>
                <a th:if="${categories.hasPrevious()}" th:href="@{/seller/product-category(page=${categories.number-1},categoryName=${categoryName})}">‹</a>
                <span>Trang <strong th:text="${categories.number+1}"></strong> / <strong th:text="${categories.totalPages}"></strong></span>
                <a th:if="${categories.hasNext()}" th:href="@{/seller/product-category(page=${categories.number+1},categoryName=${categoryName})}">›</a>
                <a th:if="${!categories.last}" th:href="@{/seller/product-category(page=${categories.totalPages-1},categoryName=${categoryName})}">Cuối</a>
            </div>
        </div>
    </div>
</div>
</body>
</html>
